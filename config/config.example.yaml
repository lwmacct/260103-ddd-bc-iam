# 配置示例文件, 复制此文件为 config.yaml 并根据需要修改

# 服务器配置
server:
  addr: '0.0.0.0:8080' # 监听地址，格式: host:port，例如 '0.0.0.0:8080' 或 ':8080'
  env: 'development' # 运行环境: development | production
  web-dist: 'dist' # 静态资源目录路径，用于提供前端文件服务 (如 SPA 应用)
  docs-dist: 'docs/.vitepress/dist' # 文档目录路径，用于提供 VitePress 构建的文档服务，通过 /docs 路由访问
  fx-log-enabled: false # 是否显示 Fx 框架的依赖注入日志 (默认 false，减少启动输出噪音)

# 数据源配置
data:
  pgsql-url: 'postgresql://postgres:postgres@localhost:5432/postgres?sslmode=disable' # PostgreSQL 连接 URL，格式: postgresql://user:password@host:port/dbname?sslmode=disable
  redis-url: 'redis://localhost:6379/0' # Redis 连接 URL，格式: redis://:password@host:port/db
  redis-key-prefix: 'app:' # Redis key 前缀，所有 key 读写都会自动拼接此前缀，例如 'app:'
  auto-migrate: false # 是否在应用启动时自动执行数据库迁移 (仅推荐在开发环境使用，生产环境应使用 migrate 命令)

# JWT 认证配置
jwt:
  secret: 'change-me-in-production' # JWT 签名密钥 - ⚠️ 生产环境务必修改! 建议通过环境变量 APP_JWT_SECRET 设置
  access-token-expiry: 15m0s # 访问令牌过期时间 (格式: 15m, 1h, 24h 等)
  refresh-token-expiry: 168h0m0s # 刷新令牌过期时间 (168h = 7天)

# 认证配置
auth:
  dev-secret: 'dev-secret-change-me' # 开发模式密钥 (用于验证码开发模式) - ⚠️ 生产环境务必修改! 建议通过环境变量 APP_AUTH_DEV_SECRET 设置
  twofa-issuer: 'Go-DDD-Package-Lib' # 2FA TOTP 发行者名称，显示在用户的验证器应用中
  captcha-required: true # 是否需要验证码 (可在生产环境强制开启以提升安全性)

# OpenTelemetry 追踪配置
telemetry:
  enabled: false # 是否启用分布式追踪
  exporter-type: 'none' # 导出器类型: otlp, stdout, none
  otlp-endpoint: 'localhost:4317' # OTLP gRPC 端点 (如 localhost:4317)
  sample-rate: 1 # 采样率 (0.0-1.0)，1.0 表示全部采样
